doctype html
html
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title #{subject}
    style.
      /* Safe inline styles for many email clients */
      body {
        margin: 0;
        padding: 0;
        background-color: #f6f6f6;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        color: #333;
      }
      .container {
        max-width: 600px;
        margin: 24px auto;
        background: #ffffff;
        border-radius: 8px;
        padding: 28px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.06);
      }
      h1 { margin: 0 0 12px 0; font-size: 22px; color: #111; }
      p { margin: 0 0 16px 0; line-height: 1.5; color: #444; }
      .btn {
        display: inline-block;
        padding: 12px 20px;
        background-color: #2563eb;
        color: #fff !important;
        text-decoration: none;
        border-radius: 6px;
        font-weight: 600;
      }
      .muted { color: #888; font-size: 13px; }
      .footer { margin-top: 18px; font-size: 12px; color: #999; }

  body
    .container
      if logoUrl
        p
          img(src=logoUrl, alt="Logo", width="140", style="display:block;margin-bottom:18px;")
      h1 Hi #{firstName},
      p You (or someone using your email) requested a password reset for your account.
      p Click the button below to set a new password. This link is valid for #{expires} minutes.
      //- Use the same variable name `url` here so the button href works
      p
        a.btn(href=url target="_blank" rel="noopener noreferrer") Reset my password
      p If the button doesn't work, copy and paste this link into your browser:
      p.muted
        | #{url}
      .footer
        p If you didn't request a password reset, you can safely ignore this email — your password will remain unchanged.
        p Thanks — The Team
